---
title: "AWS コンピューティング基礎"
date: 2021-12-09T00:00:00+09:00
slug: basic-computing
categories: [basic]
tags: [EC2, ECS]
image: basic-computing.jpg
draft: true
---

## コンピューティング基礎

ここでは、EC2・ECS・Lambdaといった、アプリケーションを稼働させるコンピューティング部分の知識を整理します。


## EC2

「EC2」とは、仮想サーバーです。
インスタンスを立ち上げる際には、「Amazonマシンイメージ（AMI）」を指定します。
AMIはOSやアプリケーションを含んだテンプレートなので、インスタンスを立ち上げた直後から手早く使い始められます。

インスタンスを立ち上げる際には、「インスタンスタイプ」と呼ばれるCPUやメモリのスペックも指定できます。
インスタンスタイプは様々な種類があり、`t2.medium`・`m5.large`など目的に応じて使い分けられます。

![](group-basic-ec2.png)

EC2はAMI・インスタンスタイプを指定することができるので、目的に応じてリソースを最適化しやすい形となっています。
ですが、構築するためのコストや、インスタンス内のOSをメンテナンスするコストが発生しやすいといった点もあります。
なので、CPU・メモリ・ディスクなどハードウェアリソースに関して最適化が必要ない一般的なアプリケーションの場合は、EC2ではなくコンテナを利用したECSなどを利用する方が良いでしょう。

## ECS

「ECS」とは、Dockerコンテナ環境を提供するものです。
EC2の場合はAMI・インスタンスタイプなどを指定してインスタンスを立ち上げましたが、ECSの場合はDockerイメージを元にコンテナを立ち上げられます。

ECSではまず、コンテナを管理するための「Cluster」を作成します。
Dockerイメージ・CPU・メモリといったコンテナを立ち上げるために必要な情報を定義した「Task Definition」も作成します。
そして、ClusterがTask Definitionを元にコンテナを立ち上げてくれます。
この、立ち上がったコンテナのことを「Task」とも表現します。

また、一般的なAPIサーバーなど、実行し続ける形のTaskを「Service」と呼びます。
これは、コンテナを立ち上げる際に、Serviceとして立ち上げるかを指定できます。

これらのコンテナ環境は、実行環境としてEC2・Fargateなどが指定できます。
EC2を選択した場合は、EC2インスタンス自体の管理コストが発生します。
Fargateを選択した場合は、AWS側で自動的に管理されるため、よりアプリケーション開発に注力しやすくなります。

![](group-basic-ecs.png)


## ELB


## Lambda

TBD


## まとめ

TBD
